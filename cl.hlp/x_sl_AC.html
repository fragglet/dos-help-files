<html>

<head>
<title>Compact Memory Model: Details - C/C++ Compiler</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://duckduckgo.com/" method="GET">
<input name="q" id="search-box" placeholder="Search">
<input type="hidden" name="sites" value="fragglet.github.io">
</form>
C/C++ Compiler (cl.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> Compact Memory Model: Details</div>
<pre>                                             <span class='grhilite'>◄</span><a href='x_at_L801a.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/hv.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/vx.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
─────C/C++ Compiler─────────────────────────────────────────────────────────
 
     Syntax:  /AC
 
     The compact-model option allows multiple segments for program data
     but only one segment for program code.
 
     This memory model is useful for C programs with a large amount of
     data but a relatively small amount of code. Program data can
     occupy any amount of space and is given as many segments as
     needed.
 
     The defaults in compact-model programs are near code addressing
     and far data addressing. You can override the defaults with the
     __far keyword for code and the __near or __huge keyword for data.
 
     To maximize efficiency, the compiler tries to allocate static and
     initialized global data in DGROUP. The compiler allocates data
     items larger in size than the data-size threshold (set with /Gt)
     in segments outside of DGROUP. The sum of all the items smaller
     than the threshold must be less than 64K.
     See: <span class='grhilite'>◄</span><a href='x_sl_Gt.html'>Data Size Threshold (/Gt)</a><span class='grhilite'>►</span>
 
     Under the compact, large, or huge memory model, the compiler
     allocates initialized data items as near if they are smaller than
     or equal in size to the threshold value set by the /Gt option. The
     /Gx option extends this initialized data allocation rule to data
     that is uninitialized and data that is marked as extern. Near
     data offers two benefits:
 
        ■ The compiler can generate more efficient code to reference
          data it knows is near.
 
        ■ You can achieve multiple instances of a single windows
          application when all data is near.
 
     See: <span class='grhilite'>◄</span><a href='x_at_L8025.html'>Overriding Default Addressing</a><span class='grhilite'>►</span>
          <span class='grhilite'>◄</span><a href='x_sl_Gx.html'>Assume That Data Is Near Option (/Gx)</a><span class='grhilite'>►</span>
 
     Using the /AC option causes CL to emit both the _M_I86 and the
     _M_I86CM preprocessor identifiers.
                                    -♦-
</pre>
</body>

</html>
