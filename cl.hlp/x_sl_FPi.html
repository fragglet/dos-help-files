<html>

<head>
<title>Inline Emulation: Details - C/C++ Compiler</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
C/C++ Compiler (cl.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> Inline Emulation: Details</div>
<pre>                                             <span class='grhilite'>◄</span><a href='x_at_L8029.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/hv.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/vx.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
─────C/C++ Compiler─────────────────────────────────────────────────────────
 
     Syntax:  /FPi
 
     This option is the default. The compiler generates inline
     instructions for an 80x87 coprocessor that run whether or not a
     coprocessor is present. This option works because the compiler
     does not generate true inline 80x87 instructions. Instead, it
     generates software interrupts to library code. The library code,
     in turn, adds fixups to the interrupts to select either the
     emulator or the coprocessor, depending on whether a coprocessor is
     present.
 
     When you use the /FPi option, the compiler places the name of the
     emulator library (mLIBCE.LIB) in the object file. At link time,
     you can specify the 80x87 library (mLIBC7.LIB) instead.
 
     If you want true inline 80x87 instructions, use the inline math
     coprocessor option (/FPi87).
 
     Real Mode
 
     In real mode, the fixup tells the linker to add a constant onto
     all floating-point instructions. This process turns the inline
     instructions into software interrupts that are trapped by the
     emulator.
 
     If there is no 80x87 coprocessor, the emulator uses the interrupts
     to emulate an 80x87. If there is one, the emulator converts the
     interrupts back into 80x87 instructions.
 
     Protected Mode
 
     In protected mode, the linker ignores the fixup. If the target
     computer does not have a coprocessor, an unsupported extension
     exception occurs. The extension is then vectored to library code.
                                    -♦-
</pre>
</body>

</html>
