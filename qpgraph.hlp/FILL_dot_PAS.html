<html>

<head>
<title>FILL.PAS - qpgraph.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="/helpicon.png">
<link rel="icon" href="/helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
qpgraph.hlp (<a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> FILL.PAS</div>
<pre>  <span class='grhilite'>◄</span>Example<span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../unknown.html#h.contents'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../unknown.html#h.index'>Index</a><span class='grhilite'>►</span>                                    <span class='grhilite'>◄</span><a href='..//b.html'>Back</a><span class='grhilite'>►</span>
 
PROGRAM filldemo;
 
{ FILL.PAS illustrates color, filling, and linestyle functions including:
 
      _FloodFill       _SetColor       _SetLineStyle
      _GetLineStyle    _SetFillMask
 
  The _GetFillMask function is not shown, but its use is similar to
  _GetLineStyle.
}
 
USES
    MSGraph, Crt;
 
VAR
    vc          : _VideoConfig;
    errorcode   : Integer;
    xinc, yinc,
    xwid, ywid,
    x, y, i     : Integer;
    fill        : _FillMask;
    color       : Integer;
    linestyle   : Word;
    vidmode     : Integer;
    c           : Char;
 
BEGIN
 
    { Select video mode with highest resolution. }
    IF (_SetVideoMode( _MaxResMode ) = 0 ) THEN
        Halt( 1 );
 
    { Get information about current monitor and video card }
    _GetVideoConfig( vc );
 
    xinc := Round( vc.NumXPixels / 8 );
    yinc := Round( vc.NumYPixels / 8 );
    xwid := Round( xinc / 2 ) - 4;
    ywid := Round( yinc / 2 ) - 4;
 
    { Draw circles and lines with different patterns.}
    x := xinc;
 
    WHILE (x &lt;= (vc.NumXPixels - xinc)) DO
        BEGIN
        y := yinc;
        WHILE (y &lt;= (vc.NumYPixels - yinc)) DO
            BEGIN
            { Vary random seed, randomize fill and color. }
            Randomize;
            FOR i := 0 TO 7 DO
                fill[i] := Random( 256 );
            _SetFillMask( fill );
            color := (Random( 256 ) MOD vc.NumColors) + 1;
            _SetColor( color );
 
            { Draw ellipse and fill with random color. }
            _Ellipse( _GBorder, x - xwid, y - ywid, x + xwid, y + ywid );
            _SetColor( ( Random( 256 ) MOD vc.NumColors ) + 1 );
            _FloodFill( x, y, color );
 
            { Draw vertical and horizontal lines. Vertical line style
              is the opposite of (NOT) horizontal style. Since lines are
              overdrawn with several linestyles, this has the effect of
              combining colors and styles.
            }
            _SetLineStyle( Random( 5 ) );
            _MoveTo( 0, y + ywid + 4 );
            _LineTo( vc.NumXPixels - 1, y + ywid + 4 );
            linestyle := _GetLineStyle;
            _SetLineStyle( NOT linestyle );
            _MoveTo( x + xwid + 4, 0 );
            _LineTo( x + xwid + 4, vc.NumYPixels - 1 );
            y := y + yinc;
            END; { y-direction }
 
        x := x + xinc;
        END;
 
    { Retain the picture on the screen until any key is pressed. }
    c := ReadKey;
 
    { Restore orginal video mode. }
    errorcode := _SetVideoMode( _DefaultMode );
 
END.
 
</pre>
</body>

</html>
