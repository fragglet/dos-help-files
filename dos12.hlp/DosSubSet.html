<html>

<head>
<title>DosSubSet (1.2) - dos12.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
dos12.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> DosSubSet (1.2)</div>
<pre><i><span class='grhilite'>◄</span><a href='memory.html'>Function Group</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='unknown#memory management 1.2'>Overview</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='x_at_L80e1.html'>Changes</a><span class='grhilite'>►</span>         </i>      <span class='grhilite'>◄</span><a href='index.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='DosSuspendThread.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_DOSMEMMGR
 
USHORT DosSubSet(sel, fFlags, cbSeg)
SEL sel;          /* segment selector                    */
USHORT fFlags;    /* initialize/increase size of segment */
USHORT cbSeg;     /* new size of block                   */
 
The DosSubSet function initializes a segment for suballocation or changes
the size of a previously initialized segment.
 
The DosSubSet function is a family API function.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>sel</i>        Specifies the selector of the data segment.
 
<i>fFlags</i>     Specifies whether to initialize the segment or increase its size.
           If this parameter is 0x0001, the function initializes the
           segment. If this parameter is 0x0000, the function changes the
           segment size.
 
<i>cbSeg</i>      Specifies the new size (in bytes) of the segment. This size
           should be a multiple of 4. If it is not, it will be rounded up. A
           value of zero may be used to specify 64K. The minimum size that
           can be set is 12.
 
<b>Return Value</b>
 
The return value is zero if the function is successful. Otherwise, it is an
error value, which may be one of the following:
 
     ERROR_DOSSUB_BADFLAG
     ERROR_DOSSUB_BADSIZE
     ERROR_DOSSUB_SHRINK
 
<b>Comments</b>
 
If the fFlags parameter is 0x0001, the DosSubSet function initializes the
segment so that the DosSubAlloc function can be used to allocate memory
blocks in the segment. The segment must have been allocated previously by
using the DosAllocSeg or DosAllocShrSeg function.
 
If the fFlags parameter is 0x0000, the DosSubSet function changes the
segment size to the number of bytes specified by the cbSeg parameter. If the
specified size is greater than the current segment size, the DosReallocSeg
function must be called before DosSubSet. If DosSubSet is not called after
changing the size of a segment by using DosReallocSeg, the results can be
unpredictable.
 
In the DosSubSet function, setting the cbSeg parameter to zero indicates
that the segment size is 64K, but in the DosSubAlloc and DosSubFree
functions, an error occurs when the cbSeg parameter is set to zero.
 
<b>DosSubSet</b> can be issued from ring 2 or ring 3. The suballocation segment can
be either a ring-2 or a ring-3 segment.
 
<b>See Also</b>
 
<b>DosAllocSeg, DosAllocShrSeg, DosReallocSeg, DosSubAlloc, DosSubFree</b>
 
                                      ♦
 
</pre>
</body>

</html>
