<html>

<head>
<title>DosSubAlloc (1.2) - dos12.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="/helpicon.png">
<link rel="icon" href="/helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
dos12.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> DosSubAlloc (1.2)</div>
<pre><i><span class='grhilite'>◄</span><a href='memory.html'>Function Group</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='../unknown.html#memory management 1.2'>Overview</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='x_at_L80df.html'>Changes</a><span class='grhilite'>►</span>         </i>      <span class='grhilite'>◄</span><a href='index.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='DosSubFree.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_DOSMEMMGR
 
USHORT DosSubAlloc(sel, pusOffset, cbBlock)
SEL sel;              /* segment selector               */
PUSHORT pusOffset;    /* pointer to variable for offset */
USHORT cbBlock;       /* requested size of memory block */
 
The DosSubAlloc function allocates memory in a segment that was allocated
previously by using the DosAllocSeg or DosAllocShrSeg function and that was
initialized by using the DosSubSet function.
 
The DosSubAlloc function is a family API function.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>sel</i>        Specifies the selector of the data segment in which the memory
           should be allocated.
 
<i>pusOffset</i>  Points to the variable that receives the offset to the allocated
           block.
 
<i>cbBlock</i>    Specifies the size (in bytes) of the requested memory block. This
           value should be a multiple of 4. If it is not, it will be rounded
           up. No check is made to determine whether this rounding will
           cause the allocation request to exceed the size of the segment.
 
           The cbBlock parameter must not be greater than the maximum size
           of the segment minus 8 bytes.
 
<b>Return Value</b>
 
The return value is zero if the function is successful. Otherwise, it is an
error value, which may be one of the following:
 
     ERROR_DOSSUB_BADSIZE
     ERROR_DOSSUB_NOMEM
 
<b>Comments</b>
 
<b>DosSubAlloc</b> can be issued from ring 2 or ring 3; the suballocation segment
can be either a ring-2 or a ring-3 segment.
 
<b>See Also</b>
 
<b>DosAllocSeg, DosAllocShrSeg, DosSubFree, DosSubSet</b>
 
                                      ♦
 
</pre>
</body>

</html>
