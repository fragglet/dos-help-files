<html>

<head>
<title>DosCopy (1.2) - dos12.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
dos12.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> DosCopy (1.2)</div>
<pre><i><span class='grhilite'>◄</span><a href='files.html'>Function Group</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='unknown#file systems 1.2'>Overview</a><span class='grhilite'>►</span>           </i>               <span class='grhilite'>◄</span><a href='index.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='DosCreateCSAlias.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_DOSFILEMGR
 
USHORT DosCopy(pszSrc, pszDest, usOpt, ulReserved);
PSZ pszSrc;          /* pointer to name of source file */
PSZ pszDest;         /* pointer to name of target file */
USHORT usOpt;        /* options                        */
ULONG ulReserved;    /* must be zero                   */
 
The DosCopy function copies a file or subdirectory.
 
<b>Parameter   Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>pszSrc</i>      Points to the null-terminated string that specifies the file or
            directory to copy. This string must be a valid MS OS/2 filename
            and cannot contain wildcard characters.
 
<i>pszDest</i>     Points to the null-terminated string that specifies the name of
            the file, directory, or device to copy the value of pszSrc to.
            This string must be a valid MS OS/2 filename and cannot contain
            wildcard characters.
 
<i>usOpt</i>       Specifies an option that can be used in the copy operation (it
            is ignored if the destination is a device). This parameter can
            be one of the following values:
 
            Value          Meaning
            ────────────────────────────────────────────────────────────────
            DCPY_EXISTING  Copy the source file to the destination file,
                           even if the destination file already exists. If
                           neither this option nor the DCPY_APPEND option is
                           specified, and the file exists, the value
                           ERROR_ACCESS_DENIED is returned.
 
            DCPY_APPEND    Append the data in the source file to the end of
                           the destination file. If the destination file
                           does not exist, a new file is created.
 
<i>ulReserved</i>  Specifies a reserved value; must be zero.
 
<b>Return Value</b>
 
The return value is zero if the function is successful. Otherwise, it is an
error value, which may be one of the following:
 
     ERROR_ACCESS_DENIED
     ERROR_DIRECTORY
     ERROR_DRIVE_LOCKED
     ERROR_FILE_NOT_FOUND
     ERROR_FILENAME_EXCED_RANGE
     ERROR_INSUFFICIENT_DISK_SPACE
     ERROR_INVALID_PARAMETER
     ERROR_NOT_DOS_DISK
     ERROR_PATH_NOT_FOUND
     ERROR_SHARING_BUFFER_EXCEEDED
     ERROR_SHARING_VIOLATION
 
<b>Comments</b>
 
The DosCopy function can be used to copy individual files or entire
directories (including any subdirectories within the directory). The source
and destination files can be on different drives.
 
If an I/O error occurs when a file is being copied, the destination file is
deleted from the destination directory unless the DCPY_APPEND option is
specified. In this case, the destination file is restored to its original
size.
 
The DosCopy function copies the attributes of the source to the destination
file, except when appending to an existing file.
 
You cannot specify only the drive as the destination. You must give the path
on the drive where the file or directory is to be copied.
 
<b>Example</b>
 
This example copies the directory xyz from drive C, including its files and
subdirectories, to the root directory on drive A.
 
DosCopy("c:\\xyz",      /* source directory        */
    "a:\\",             /* destination directory   */
    DCPY_EXISTING,      /* replaces existing files */
    0L);                /* reserved                */
 
<b>See Also</b>
 
<b>DosMove</b>
 
                                      ♦
 
</pre>
</body>

</html>
