<html>

<head>
<title>DosChDir (1.2) - dos12.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
dos12.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> DosChDir (1.2)</div>
<pre><i><span class='grhilite'>◄</span><a href='files.html'>Function Group</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='../unknown.html#file systems 1.2'>Overview</a><span class='grhilite'>►</span>           </i>               <span class='grhilite'>◄</span><a href='index.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='DosChgFilePtr.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_DOSFILEMGR
 
USHORT DosChDir(pszDirPath, ulReserved)
PSZ pszDirPath;      /* directory path */
ULONG ulReserved;    /* must be zero   */
 
The DosChDir function changes the current directory to the specified
directory. When a process changes the current directory, subsequent calls to
file-system functions, such as the DosOpen function, use the new directory
as the default directory. The default directory is used if no explicit path
is given with a filename.
 
The DosChDir function is a family API function.
 
<b>Parameter   Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>pszDirPath</i>  Points to the null-terminated string that specifies the new
            directory path. The string must be a valid MS OS/2 directory
            path and must not be longer than the maximum path length
            returned by the DosQSysInfo function. The name cannot conatin
            wildcard characters.
 
<i>ulReserved</i>  Specifies a reserved value; must be zero.
 
<b>Return Value</b>
 
The return value is zero if the function is successful. Otherwise, it is an
error value, which may be one of the following:
 
     ERROR_DRIVE_LOCKED
     ERROR_FILE_NOT_FOUND
     ERROR_NOT_DOS_DISK
     ERROR_NOT_ENOUGH_MEMORY
     ERROR_PATH_NOT_FOUND
 
<b>Comments</b>
 
This function applies to only the process changing the directory. It does
not affect the current directories of other processes. When the process
terminates, the previous default directory becomes the default directory
again.
 
When a process starts, it inherits its current directory from the parent
process.
 
<b>Example</b>
 
This example stores the current default drive and path, then calls the
<b>DosChDir</b> function to change the default path to the root directory:
 
PSZ pszPath;
USHORT cbPath = 0, usDisk;
ULONG ulLogicalDrives;
SEL selPath;
 
DosQCurDisk(&amp;usDisk, &amp;ulLogicalDrives); /* gets current drive        */
DosQCurDir(usDisk, (PBYTE) NULL, &amp;cbPath); /* gets size of buffer    */
DosAllocSeg(cbPath, &amp;selPath,           /* allocates memory          */
    SEG_NONSHARED);
pszPath = MAKEP(selPath, 0);            /* assigns it to far pointer */
DosQCurDir(usDisk, pszPath, &amp;cbPath);   /* gets current directory    */
DosChDir("\\", 0L);                     /* changes to root directory */
    .
    .
    .
DosChDir(pszPath, 0L);                  /* restores directory        */
 
<b>See Also</b>
 
<b>DosMkDir, DosOpen, DosQCurDir, DosQCurDisk, DosRmDir, DosQSysInfo,</b>
<b>DosSelectDisk</b>
 
                                      ♦
 
</pre>
</body>

</html>
