<html>

<head>
<title>DosUnlockSeg (1.2) - dos12.hlp</title>
<link rel="stylesheet" href="../style.css">
</head>

<body>
<div class="page-heading">
<form action="https://duckduckgo.com/" method="GET">
<input name="q" id="search-box" placeholder="Search">
<input type="hidden" name="sites" value="fragglet.github.io">
</form>
dos12.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> DosUnlockSeg (1.2)</div>
<pre><i><span class='grhilite'>◄</span><a href='memory.html'>Function Group</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='unknown#memory management 1.2'>Overview</a><span class='grhilite'>►</span>                          <span class='grhilite'>◄</span><a href='index.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='DosWaitNmPipe.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span></i>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_DOSMEMMGR
 
USHORT DosUnlockSeg(sel)
SEL sel;    /* selector of segment to unlock */
 
The DosUnlockSeg function unlocks a discardable segment. Once a segment is
unlocked, the system may discard it to make space available for other
segments.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>sel</i>        Specifies the selector of the segment to unlock.
 
<b>Return Value</b>
 
The return value is zero if the function is successful. Otherwise, it is an
error value.
 
<b>Comments</b>
 
<b>DosUnlockSeg</b> applies only to segments that are allocated by using the
<b>DosAllocSeg function with the fsA</b>lloc parameter set to SEG_DISCARDABLE.
 
The DosLockSeg and DosUnlockSeg functions can be nested. If DosLockSeg is
called 5 times to lock a segment, DosUnlockSeg must be called 5 times to
unlock the segment. A segment becomes permanently locked if it is locked 255
times without being unlocked. Note that locks are an attribute of the
segment, not of a process. If one process unlocks a shared segment in use by
a second, and the second process has not called DosLockSeg, the segment is
marked as discardable. If it is discarded, the first process will be
terminated. To prevent this, all processes accessing shared memory should
use DosLockSeg or DosReallocSeg to ensure that the segment being accessed is
valid.
 
<b>See Also</b>
 
<b>DosAllocSeg, DosLockSeg, DosReallocSeg</b>
 
                                      ♦
 
</pre>
</body>

</html>
