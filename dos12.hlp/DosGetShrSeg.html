<html>

<head>
<title>DosGetShrSeg (1.2) - dos12.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="/helpicon.png">
<link rel="icon" href="/helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
dos12.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> DosGetShrSeg (1.2)</div>
<pre><i><span class='grhilite'>◄</span><a href='memory.html'>Function Group</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='../unknown.html#memory management 1.2'>Overview</a><span class='grhilite'>►</span>                          <span class='grhilite'>◄</span><a href='index.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='DosGetVersion.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span></i>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_DOSMEMMGR
 
USHORT DosGetShrSeg(pszName, psel)
PSZ pszName;    /* pointer to memory-segment name   */
PSEL psel;      /* pointer to variable for selector */
 
The DosGetShrSeg function retrieves a selector to a shared-memory segment.
The shared segment must have been allocated previously by another process.
This function increments the shared segment's reference count to indicate
that the segment is in use. The process receiving the new selector can use
it to obtain access to the shared-memory segment.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>pszName</i>    Points to the null-terminated string that identifies the
           shared-memory segment. This string must have the following form:
 
           \sharemem\name
 
           The segment name (name) must have the same format as an MS OS/2
           filename and must be unique. For example, the name
           \sharemem\public.dat is acceptable.
 
<i>psel</i>       Points to the variable that receives the new selector for the
           shared-memory segment.
 
<b>Return Value</b>
 
The return value is zero if the function is successful. Otherwise, it is an
error value, which may be one of the following:
 
     ERROR_FILE_NOT_FOUND
     ERROR_INVALID_HANDLE
     ERROR_TOO_MANY_OPEN_FILES
 
<b>Comments</b>
 
<b>DosGetShrSeg</b> can be issued from ring 2, but the shared segment must be a
ring 3 segment.
 
<b>See Also</b>
 
<b>DosAllocShrSeg, DosFreeSeg, DosGetSeg</b>
 
                                      ♦
 
</pre>
</body>

</html>
