<html>

<head>
<title>DosKillProcess (1.2) - dos12.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
dos12.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> DosKillProcess (1.2)</div>
<pre><i><span class='grhilite'>◄</span><a href='Multitasking_functions.html'>Function Group</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='unknown#Multitasking 1.2'>Overview</a><span class='grhilite'>►</span>           </i>               <span class='grhilite'>◄</span><a href='index.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='DosLoadModule.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_DOSPROCESS
 
USHORT DosKillProcess(fScope, pidProcess)
USHORT fScope;     /* scope                                     */
PID pidProcess;    /* process identifier of process to be ended */
 
The DosKillProcess function terminates the specified process, with the
option of also terminating all child processes that belong to it. Any
subsequent request for the process's termination code returns the
TC_KILLPROCESS code, unless the process intercepted the termination
request.
 
<b>Parameter   Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>fScope</i>      Specifies whether to terminate the child processes that belong
            to the specified process that is to be terminated. This
            parameter may be one of the following values:
 
            Value            Meaning
            ────────────────────────────────────────────────────────────────
            DKP_PROCESSTREE  Terminates the specified process and all of its
                             child processes.
 
            DKP_PROCESS      Terminates the specified process only.
 
<i>pidProcess</i>  Specifies the process identifier of the process to terminate.
 
<b>Return Value</b>
 
The return value is zero if the function is successful. Otherwise, it is an
error value, which may be the following:
 
     ERROR_INVALID_PROCID
 
<b>Comments</b>
 
A process can intercept the termination request generated by the
<b>DosKillProcess function by using the DosSe</b>tSigHandler function to create a
signal handler. When the process creates a signal handler, the process
typically completes any termination tasks, such as copying data from local
buffers to files, then calls the DosExit function to terminate. If a process
has no signal handler, the DosKillProcess function terminates the process
after flushing all system file buffers and closing all handles opened by the
process.
 
Before terminating, the process being terminated must flush file buffers
that are not managed by MS OS/2──for example, the buffers managed by the C
run-time library. MS OS/2 does not flush these buffers as part of its
termination sequence.
 
<b>Example</b>
 
This example creates the child process abc.exe, then calls the
<b>DosKillProcess</b> function to terminate it:
 
UCHAR szFailName[CCHMAXPATH];
RESULTCODES resc;
DosExecPgm(szFailName, sizeof(szFailName),
    EXEC_ASYNCH, "abc\0", 0, &amp;resc, "abc.exe");
    .
    .
    .
DosKillProcess(DKP_PROCESS, resc.codeTerminate);
 
<b>See Also</b>
 
<b>DosCwait, DosExit, DosSetSigHandler</b>
 
                                      ♦
 
</pre>
</body>

</html>
