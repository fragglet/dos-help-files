<html>

<head>
<title>ON PLAY Statement Details - bas7advr.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://duckduckgo.com/" method="GET">
<input name="q" id="search-box" placeholder="Search">
<input type="hidden" name="sites" value="fragglet.github.io">
</form>
bas7advr.hlp (<a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> ON PLAY Statement Details</div>
<pre>  <span class='grhilite'>◄</span><a href='unknown#.onplayba'>Syntax</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span>Details<span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='../bas7ex.hlp/x_dot_playfx.html'>Example</a><span class='grhilite'>►</span>                 <span class='grhilite'>◄</span><a href='unknown#-9996'>Contents</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='unknown#-9997'>Index</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
──────────────────────────────────────────────────────────────────────────────
ON PLAY is an event-trapping statement that specifies a routine to branch
to when there are fewer than queuelimit% notes in the background-music
queue.
 
<b>ON PLAY(queuelimit%) GOSUB {linenumber | linelabel}</b>
    ■ linenumber or    A linenumber value of 0 disables event trapping and
      linelabel        does not specify line 0 as the start of the
                       routine.
 
Usage Notes
    ■ A play-event trap occurs only when music is playing in the
      background. Play-event traps do not occur when music is running in
      the foreground.
    ■ A play-event trap does not occur if the background-music queue has
      already gone from having queuelimit% notes to queuelimit% - 1 notes
      when a PLAY ON is executed.
    ■ If queuelimit% is a large number, event traps may occur often enough
      to slow down the program.
    ■ The ON PLAY statement specifies only the start of an event-trapping
      routine. The <span class='grhilite'>◄</span><a href='unknown#.playev'>PLAY Statements</a><span class='grhilite'>►</span> determine whether the routine is
      called and how events are handled when trapping is off:
 
        PLAY ON      Enables event trapping. Event trapping occurs only
                     after a PLAY ON statement is executed.
        PLAY OFF     Disables event trapping. Even if an event takes place,
                     it is not remembered.
        PLAY STOP    Suspends event trapping. Any events that occur are
                     remembered and are trapped as soon as a PLAY ON
                     statement is executed.
 
    ■ If your program contains event-handling statements and you are
      compiling from the BC command line, use the BC /W or /V option.
      (The /W option checks for events at every label or line number; the
      /V option checks at every statement.) If you do not use these
      options and your program contains event traps, BASIC generates the
      error message, "ON event without /V or /W on command line."
    ■ The RETURN linenumber or RETURN linelabel forms of RETURN can be
      used to return to a specific line from the trapping routine. Use
      this type of return with care, however, because any other GOSUB,
      WHILE, or FOR statements active at the time of the trap remain
      active. BASIC may generate error messages such as "NEXT without
      FOR." In addition, if an event occurs in a procedure, a RETURN
      linenumber or RETURN linelabel statement cannot get back into the
      procedure because the line number or label must be in the
      module-level code.
</pre>
</body>

</html>
