<html>

<head>
<title>GetCharWidth - Windows 3.1 Device Drivers</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="/helpicon.png">
<link rel="icon" href="/helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
Windows 3.1 Device Drivers (ddag31qh.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> GetCharWidth</div>
<pre>                                                     <span class='grhilite'>◄</span><a href='Graphics_Functions.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='GetDriverResourceID.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
WORD GetCharWidth(lpDestDev, lpBuffer, wFirstChar, wLastChar, lpFontInfo,
                  lpDrawMode, lpFontTrans)
LPPDEVICE lpDestDev;
LPWORD lpBuffer;
WORD wFirstChar;
WORD wLastChar;
LPFONTINFO lpFontInfo;
LPDRAWMODE lpDrawMode;
LPTEXTXFORM lpFontTrans;
 
The GetCharWidth function computes the widths of each character within the
given range, and copies the widths to the buffer pointed to by the lpBuffer
parameter. GDI calls this function when an application calls the
<b>GetCharWidth</b> function (GDI.350).
 
A graphics driver must export the GetCharWidth function if the
RC_GDI20_OUTPUT value is set in the dpRaster member of the driver's GDIINFO
structure.
 
<b>Parameter    Description</b>
────────────────────────────────────────────────────────────────────────────
 
 
<i>lpDestDev    Points to a PDEVICE or PBITMAP s</i>tructure specifying the
             destination device or bitmap.
 
<i>lpBuffer</i>     Points to the buffer to receive the character widths. The
             buffer must be an array of 16-bit elements. There must be one
             element for each character in the range.
 
<i>wFirstChar</i>   Specifies the first character of the range.
 
<i>wLastChar</i>    Specifies the last character of the range.
 
<i>lpFontInfo   Points to a FONTI</i>NFO structure that specifies the physical font
             from which to compute the character widths.
 
<i>lpDrawMode   Points to a DRAWM</i>ODE structure that specifies the current text
             color, background mode, background color, text justification,
             and character spacing that may need to be applied to the font
             to compute a character width.
 
<i>lpFontTrans  Points to a TEXTXFOR</i>M structure that specifies the any font
             transformations, such as scaling and italicizing, that may need
             to be applied to the font to compute a character width.
 
<b>Return Value</b>
 
The return value is 1 if the function is successful. Otherwise, it is zero
if there is an error.
 
<b>Comments</b>
 
The export ordinal for this function is 15.
 
The function assigns the default character to characters outside of the
font's range.
 
<b>GetCharWidth</b> is an optional function for printers, but highly recommended.
 
<b>See Also</b>
 
<b>ExtTextOut, GDIINFO</b>
 
 
                                      ♦
 
</pre>
</body>

</html>
