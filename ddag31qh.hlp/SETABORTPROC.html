<html>

<head>
<title>SETABORTPROC - Windows 3.1 Device Drivers</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
Windows 3.1 Device Drivers (ddag31qh.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> SETABORTPROC</div>
<pre>                                                     <span class='grhilite'>◄</span><a href='Graphics_Escapes.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='SETALLJUSTVALUES.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define SETABORTPROC 9 
short Control(lpDevice, SETABORTPROC, lphDC, NULL)
LPPDEVICE lpDevice;
LPHANDLE lphDC;
 
The SETABORTPROC escape sets the cancel function for the print job.
 
If an application wants to allow the print job to be cancelled during
spooling, it must set the cancel function before the print job is started
with the STARTDOC escape. Print Manager calls the cancel function during
spooling to allow the application to cancel the print job or to handle
out-of-disk-space conditions. If no cancel function is set, the print job
will fail if there is not enough disk space for spooling.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
 
<i>lpDevice   Points to a P</i>DEVICE structure specifying the destination device.
 
<i>lphDC</i>      Points to a handle to the application's device context for the
           print job.
 
<b>Return Value</b>
 
The return value is positive if the escape is successful. Otherwise, it is
negative.
 
<b>Comments</b>
 
The driver should pass the application's device context handle to the
<b>OpenJob</b> (GDI.240) function to allow GDI to call the application's callback
function.
 
<b>See Also</b>
 
STARTDOC, PDEVICE
 
 
                                      ♦
 
</pre>
</body>

</html>
