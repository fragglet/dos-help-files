<html>

<head>
<title>Interrupt 2Fh Function 1683h - Windows 3.1 Device Drivers</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
Windows 3.1 Device Drivers (ddag31qh.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> Interrupt 2Fh Function 1683h</div>
<pre>                                                     <span class='grhilite'>◄</span><a href='Windows_Interrupt_2Fh_Functions.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='Interrupt_2Fh_Function_1684h.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
mov     ax, 1683h   ; Get Current Virtual Machine ID
int     2Fh         ; multiplex interrupt
 
Get Current Virtual Machine ID (Interrupt 2Fh Function 1683h) returns the
identifier for the current virtual machine. MS-DOS device drivers, TSRs, and
other programs use this function to determine which virtual machine is
running. This is especially important for programs that independently manage
separate data or execution contexts for separate virtual machines.
 
<b>Return Value</b>
 
The return value is the current virtual-machine identifier in the BX
register.
 
<b>Comments</b>
 
Each virtual machine has a unique, nonzero identifier. Although Windows
currently runs in virtual machine 1, programs should not rely on this.
Windows assigns the identifier when it creates the virtual machine, and
releases the identifier when it destroys the virtual machine. Since Windows
may reuse identifiers from previous destroyed virtual machines, programs
should monitor changes to virtual machines to ensure no mismatches.
 
                                      ♦
 
</pre>
</body>

</html>
