<html>

<head>
<title>VDMAD_Scatter_Lock - Virtual Devices (3.1)</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
Virtual Devices (3.1) (vdag31qh.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> VDMAD_Scatter_Lock</div>
<pre>                                                     <span class='grhilite'>◄</span><a href='Virtual_DMA_Device.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='VDMAD_Scatter_Unlock.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
include vdmad.inc
 
VxDcall VDMAD_Scatter_Lock
 
The VDMAD_Scatter_Lock service attempts to lock all pages mapped to a DMA
region and return the actual physical addresses of the pages.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>EBX</i>        Specifies the virtual machine handle.
 
<i>AL</i>         Specifies the operation flags. The parameter can be one of the
           following values:
 
           Value  Meaning
           ─────────────────────────────────────────────────────────────────
           0      Fills the DDS table with physical addresses and sizes of
                  the physical regions that make up the DMA region.
 
           1      Fills the DDS table with the actual page table entries.
 
           2      Prevents not-present pages from being locked. This value
                  is ignored if bit 0 is not set.
 
<i>EDI</i>        Points to the extended DDS (DMA Descriptor Structure) to receive
           the information.
 
<b>Return Value</b>
 
The carry flag is clear and the zero flag is set if the entire region is
locked. The zero flag is clear if only a portion of the region is locked. If
the carry flag is set, nothing is locked.
 
The EDX register contains the number of table entries needed to describe
whole region, and the DDS_size field specifies the number of bytes locked.
 
If the request was for page table copy (AL set to 1 or 3), then The ESI
register contains an offset into first page for start of the region.
 
<b>Uses</b>
 
EDX, ESI, Flags
 
                                      ♦
 
</pre>
</body>

</html>
