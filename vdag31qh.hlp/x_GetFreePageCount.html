<html>

<head>
<title>_GetFreePageCount - Virtual Devices (3.1)</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
Virtual Devices (3.1) (vdag31qh.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> _GetFreePageCount</div>
<pre>                                                     <span class='grhilite'>◄</span><a href='Page_Allocation_and_Management.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='x_GetGlblRng0V86IntBase.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
include vmm.inc
 
VMMcall _GetFreePageCount, &lt;flags&gt;
 
mov     dword ptr [FreePages], eax      ; number of free pages
mov     dword ptr [LockablePages], edx  ; number of lockable pages
 
The _GetFreePageCount service returns the number of pages in the free list.
This service also returns the number of free pages that can be allocated as
locked pages. Virtual devices can allocate free pages using the
<b>_PageAllocate</b> service.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>flags</i>      Specifies the operation flags. This parameter must be set to 0.
 
<b>Return Value</b>
 
The EAX register contains the count of free pages, and the EDX register
contains the count of pages available for allocation as locked pages.
 
<b>Comments</b>
 
In a demand-paged virtual memory system such as Windows, the number of free
pages is usually very close to 0, so the count of pages available for
locking is usually a better indicator of available memory. However, virtual
devices must not rely on the count of free pages being less than or equal to
the count of pages to lock. No guarantees can be made about the length of
time the information returned by this service remains accurate.
 
<b>Uses</b>
 
EAX, EDX
 
<b>See Also</b>
 
<b>_PageAllocate</b>
 
 
                                      ♦
 
</pre>
</body>

</html>
