<html>

<head>
<title>System_Exit - Virtual Devices (3.1)</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
Virtual Devices (3.1) (vdag31qh.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> System_Exit</div>
<pre>                                                     <span class='grhilite'>◄</span><a href='VMM_Control_Messages.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='VM_Critical_Init.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
include vmm.inc
 
mov     ebx, SysVM      ; system VM handle
mov     eax, System_Exit
VMMcall System_Control
 
The System_Exit message notifies the virtual device that the system is
terminating either normally or as a result of a crash. Interrupts remain
enabled while virtual devices process this message.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>SysVM</i>      Specifies a handle identifying the system virtual machine.
 
<b>Return Value</b>
 
The carry flag must be clear.
 
<b>Comments</b>
 
The virtual device must not call the Simulate_Int or Exec_Int service, but
the virtual device may modify the system virtual machine memory to restore
the system state to allow Windows to exit without complication.
 
The system restores the instance snapshot before sending this message.
 
<b>Uses</b>
 
Flags
 
<b>See Also</b>
 
<b>Sys_Critical_Exit</b>
 
 
                                      ♦
 
</pre>
</body>

</html>
