<html>

<head>
<title>V86MMGR_Map_Pages - Virtual Devices (3.1)</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="/helpicon.png">
<link rel="icon" href="/helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
Virtual Devices (3.1) (vdag31qh.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> V86MMGR_Map_Pages</div>
<pre>                                                     <span class='grhilite'>◄</span><a href='Virtual_V86_Mode_Memory_Manager.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='V86MMGR_ResetBasePages.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
include v86mmgr.inc
 
VxDcall V86MMGR_Map_Pages
 
The V86MMGR_Map_Pages service maps the specified buffer into every virtual
machine at the same address using page mapping. If the contents of memory
are changed in one virtual machine the change will be reflected in the
original buffer as well in all other virtual machines.
 
If the address specified in ESI is zero, no memory is mapped, but a global
linear address range is allocated. It is then up to the caller to map
appropriate pages into virtual machines. Use the linear address returned in
EDI for the base page to map memory into.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>ESI</i>        Points to the linear address to map. If this parameter is zero,
           the service reserves the map region without mapping memory.
 
<i>ECX</i>        Specifies the number of bytes to map.
 
<b>Return Value</b>
 
If the carry flag is clear, the memory is mapped. The ESI register contains
the map handle (used to free the map region), and the EDI register contains
the linear address of map buffer. It is less than 1 megabyte.
 
If the carry flag is set, the service could not map the memory.
 
<b>Uses</b>
 
ESI, EDI, Flags
 
                                      ♦
 
</pre>
</body>

</html>
