<html>

<head>
<title>VPICD_Install_Handler - Virtual Devices (3.1)</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="/helpicon.png">
<link rel="icon" href="/helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
Virtual Devices (3.1) (vdag31qh.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> VPICD_Install_Handler</div>
<pre>                                                     <span class='grhilite'>◄</span><a href='Virtual_PIC_Device.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='VPICD_Remove_Handler.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
include bimodint.inc
 
les     di, bis             ; points to Bimodal_Int_Struc
mov     ax, VPICD_Install_Handler
call    [lpfnVPICD]
 
jc      error               ; carry set on error
 
The VPICD_Install_Handler function installs a bimodal interrupt handler for
the IRQ specified by the BIS_IRQ_Number field in the Bimodal_Int_Struc
structure.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>bis      </i>  Points to a Bimodal_Int_Struc structure containing information
           about the interrupt handler to install.
 
<i>lpfnVPICD</i>  Specifies the entry point address of the API handler for the
           virtual PIC device.
 
<b>Return Value</b>
 
If the carry flag is clear, the function is successful. Otherwise, the carry
flag is set to indicate an error such as the IRQ has already been
virtualized or the IRQ number is not valid.
 
<b>Comments</b>
 
This function virtualizes the specified IRQ and creates supervisor-mode
selectors for the interrupt handler's code, data, and additional segments
(if any). The function also sets the supervisor-mode API handler.
 
<b>See Also</b>
 
<b>VPICD_Remove_Handler</b>
 
 
                                      ♦
 
</pre>
</body>

</html>
