<html>

<head>
<title>Get_Name_Of_Ugly_TSR - Virtual Devices (3.1)</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
Virtual Devices (3.1) (vdag31qh.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> Get_Name_Of_Ugly_TSR</div>
<pre>                                                     <span class='grhilite'>◄</span><a href='Initialization_Information_Services.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='Get_Next_Arena.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
include vmm.inc
 
VMMcall Get_Name_Of_Ugly_TSR
 
jz      no_ugly_TSR         ; zero set if no ugly TSRs present
mov     [Name], eax         ; first 4 characters of TSR name
mov     [Name+4], ebx       ; last 4 characters of TSR name
 
The Get_Name_Of_Ugly_TSR service returns the name of an uncooperative TSR.
During its real-mode initialization, the virtual MS-DOS manager checks for
and records the names of any TSRs that may prevent other MS-DOS programs
from running. Get_Name_Of_Ugly_TSR checks the list and returns one of the
TSR names (if any) so that virtual devices can determine whether they can
successfully operate. Although more than one ugly TSR may be present in the
list, the service chooses only one name to return.
 
This service is only available during initialization and only available for
Windows 3.1 and later.
 
This service has no parameters.
 
<b>Return Value</b>
 
The zero flag is set and the EAX and EBX registers are set to zero if no
ugly TSRs are present. Otherwise, the zero flag is clear and the EAX
register contains the first four characters of the TSR name, and the EBX
register contains the last four characters.
 
<b>Uses</b>
 
EAX, EBX, Flags
 
                                      ♦
 
</pre>
</body>

</html>
