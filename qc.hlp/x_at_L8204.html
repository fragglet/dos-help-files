<html>

<head>
<title>locking - qc.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
qc.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> locking</div>
<pre> <span class='grhilite'>◄</span><a href='locking.html'>Summary</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='x_at_L82a2.html'>Example</a><span class='grhilite'>►</span>                         <span class='grhilite'>◄</span><a href='lib_dot_lst.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='index.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='h_dot_index.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
───────────────────────────────────────────────────────────────────────────
 
     The locking function locks or unlocks &lt;nbyte&gt; bytes of the file
     specified by &lt;handle&gt;. Locking bytes in a file prevents access to
     those bytes by other processes.
 
     All locking or unlocking begins at the current position of the
     file pointer and proceeds for the next &lt;nbyte&gt; bytes, or to the
     end of the file. It is possible to lock bytes past the end of the
     file.
 
     The &lt;mode&gt; argument specifies the locking action to be performed.
     It must be one of the following manifest constants:
 
     LK_LOCK       LK_RLCK
     LK_NBLCK      LK_UNLCK
     LK_NRBLCK
 
     More than one region of a file can be locked, but no overlapping
     regions are allowed.
 
     When a region of a file is unlocked, it must correspond to a
     region that was previously locked. The locking function does not
     merge adjacent regions; if two locked regions are adjacent, each
     region must be unlocked separately.
 
     Regions should be locked only briefly and should be unlocked
     before closing a file or exiting the program.
 
     The locking function should be used only under OS/2 or under DOS
     versions 3.0 or later; it has no effect under earlier versions of
     DOS. Note that under DOS versions 3.0 and 3.1, the files locked by
     a parent process may become unlocked when one of its children
     exits.
 
     File sharing must be loaded to use the locking function. File
     sharing is automatically loaded under OS/2 and under some
     networking software. Under DOS versions 3.0 and higher, you may
     need to use the SHARE program provided with DOS to enable file
     sharing. Check documentation for your networking software and DOS
     SHARE program for details.
 
     Return Value
 
     The locking function returns 0 if it is successful. A return value
     of -1 indicates failure, and errno is set to EACCES, EBADF,
     EDEADLOCK, or EINVAL.
                                    -♦-
</pre>
</body>

</html>
