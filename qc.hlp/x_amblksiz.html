<html>

<head>
<title>_amblksiz - qc.hlp</title>
<link rel="stylesheet" href="../style.css">
</head>

<body>
<div class="page-heading">
<form action="https://duckduckgo.com/" method="GET">
<input name="q" id="search-box" placeholder="Search">
<input type="hidden" name="sites" value="fragglet.github.io">
</form>
qc.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> _amblksiz</div>
<pre>                                             <span class='grhilite'>◄</span><a href='x_at_L8022.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='index.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='h_dot_index.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
────────────────────────────────────────────────────────────────────────────
 
  Variable:  _amblksiz
 
  Include:   &lt;malloc.h&gt;
 
  Syntax:    unsigned _amblksiz;
 
     The _amblksiz variable can be used to control the amount of memory
     space in the heap used by C for dynamic memory allocation. This
     variable is declared in the include file MALLOC.H.
 
     The first time your program calls one of the dynamic-memory-
     allocation functions (such as calloc or malloc), it asks the
     operating system for an initial amount of heap space that is
     typically much larger than the amount of memory requested by
     calloc or malloc. This amount is indicated by _amblksiz, whose
     default value is 8K (8192 bytes).
 
     Subsequent memory allocations are allotted from this 8K of
     memory, resulting in fewer calls to the operating system when
     many relatively small items are being allocated. C calls the
     operating system again only if the amount of memory used by
     dynamic memory allocations exceeds the currently allocated space.
 
     If the requested size in your C program is greater than _amblksiz,
     multiple blocks, each of size _amblksiz, are allocated until the
     request is satisfied. Since the amount of heap space allocated is
     more than the amount requested, subsequent allocations can cause
     fragmentation of heap space. You can control this fragmentation by
     using _amblksiz to change the default memory chunk to whatever
     value you like, as in the following example:
 
          _amblksiz = 2000;
 
     Since the heap allocator always rounds the operating-system memory
     request to the nearest power of 2 greater than or equal to
     _amblksiz, the preceding statement causes the heap allocator to
     reserve memory in the heap in multiples of 2K (2048 bytes).
 
     Note that adjusting the value of _amblksiz affects near-, far-,
     and based-heap allocation. Adjusting this value has no effect on
     halloc or _nmalloc in any memory model.
</pre>
</body>

</html>
