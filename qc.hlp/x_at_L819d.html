<html>

<head>
<title>_control87 - qc.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="/helpicon.png">
<link rel="icon" href="/helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
qc.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> _control87</div>
<pre> <span class='grhilite'>◄</span><a href='x_control87.html'>Summary</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='x_at_L8284.html'>Example</a><span class='grhilite'>►</span>                         <span class='grhilite'>◄</span><a href='lib_dot_lst.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='index.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='h_dot_index.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
────────────────────────────────────────────────────────────────────────────
 
     The _control87 function gets and sets the floating-point control
     word, which allows the program to change the precision, rounding,
     and infinity modes in the floating-point math package. You can
     mask or unmask floating-point exceptions by using the _control87
     function.
 
     If the value for &lt;mask&gt; is equal to 0, _control87 gets the
     floating-point control word. If mask is nonzero, a new value for
     the control word is set in the following manner: for any bit that
     is on (equal to 1) in &lt;mask&gt;, the corresponding bit in &lt;new&gt; is
     used to update the control word. To put it another way,
 
          fpcntrl = ( ( fpcntrl &amp; ~mask ) | ( new &amp; mask ) )
 
     where fpcntrl is the floating-point control word.
 
     The possible values for the mask constant (&lt;mask&gt;) and new control
     values (&lt;new&gt;) are shown below:
 
     Mask                   Control         Hex
     Constant   Meaning     Values          Value    Meaning
 
     MCW_EM     Interrupt
                exception                   0x003F
                            EM_INVALID      0x0001   Invalid operation
                            EM_DENORMAL     0x0002   Denormal
                            EM_ZERODIVIDE   0x0004   Zero divide
                            EM_OVERFLOW     0x0008   Overflow
                            EM_UNDERFLOW    0x0010   Underflow
                            EM_INEXACT      0x0020   Inexact (precision)
 
     MCW_IC     Infinity
                control                     0x1000
                            IC_AFFINE       0x1000   Affine
                            IC_PROJECTIVE   0x0000   Projective
 
     MCW_RC     Rounding
                control                     0x0C00
                            RC_CHOP         0x0C00   Chop
                            RC_UP           0x0800   Up
                            RC_DOWN         0x0400   Down
                            RC_NEAR         0x0000   Near
 
     MCW_PC     Precision
                control                     0x0300
                            PC_24           0x0000   24 bits
                            PC_53           0x0200   53 bits
                            PC_64           0x0300   64 bits
 
     Return Value
 
     The bits in the value returned indicate the floating-point control
     state. See FLOAT.H for a complete definition of the bits returned
     by _control87.
                                    -♦-
</pre>
</body>

</html>
