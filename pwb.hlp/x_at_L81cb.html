<html>

<head>
<title>How PWB Creates a Project Makefile - Programmer's WorkBench</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
Programmer's WorkBench (pwb.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> How PWB Creates a Project Makefile</div>
<pre>                                             <span class='grhilite'>◄</span><a href='x_at_L81ca.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='index.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='vx.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
─────Programmer's WorkBench─────────────────────────────────────────────────
 
     PWB creates a project makefile by applying the current set of build
     rules (the project template) to the project file list. PWB
     regenerates the makefile each time you choose Save List in the Edit
     Project dialog box.
 
     PWB uses the following algorithm to create a PWB makefile:
 
       1. Create macro definitions for every Build:macro rule.
 
       2. Create a definition for the FILES macro. This macro contains
          the project file list that you specify in the Edit Project
          dialog box.
 
       3. Apply the Build:all rule to create the 'all' pseudotarget.
 
       4. Apply the Build:suffixes rule to create the first two of three
          .SUFFIXES directives in the makefile. The first directive
          clears the predefined NMAKE suffixes list.
 
       5. For each target listed in the Build:all rule, create a
          description block using that target's Build:target rule and
          associated Build:command rules.
 
       6. For each description block, scan the commands for references
          to macro names of the form:
 
               &lt;ext&gt;S
 
          For each macro of this form that is found, generate
          dependencies for the description block and apply inference
          rules to create description blocks for the dependent files.
          See: <span class='grhilite'>◄</span><a href='x_at_L81cc.html'>Generating Dependents</a><span class='grhilite'>►</span>
 
       7. For each description block, scan the commands for references
          to macros of the form:
 
               &lt;ext&gt;_FILE
 
          When a reference to an &lt;ext&gt;_FILE macro is found, look for a
          single file with the specified extension in the file list. If
          the file is found, create a definition for the &lt;ext&gt;_FILE
          macro that contains the name of that file and add the macro to
          the dependency list.
 
          If more than one such file is found, generate the message:
 
               Multiple &lt;ext&gt; files - only one is allowed
 
          and use only the first file in the list.
 
       8. Add the description block for the run and debug pseudotargets.
 
       9. If any files in the list are not used in any of the preceding
          steps, generate the message:
 
               File type not used with current project template
 
          The file remains in the file list and appears in the FILES
          macro. However, it is not a dependent for any target in the
          makefile. It not used by any part of the PWB build process.
 
     After creating the makefile, PWB creates the project status file.
     The project is now complete.
     See: <span class='grhilite'>◄</span><a href='project_dot_sts.html'>Project Status File</a><span class='grhilite'>►</span>
 
     See
 
     <span class='grhilite'>◄</span><a href='Build_cln_all.html'>Build:all</a><span class='grhilite'>►</span>
     <span class='grhilite'>◄</span><a href='Build_cln_command.html'>Build:command</a><span class='grhilite'>►</span>
     <span class='grhilite'>◄</span><a href='Build_cln_command_dot_run_debug.html'>Build:command {run │ debug} "&lt;command_line&gt;"</a><span class='grhilite'>►</span>
     <span class='grhilite'>◄</span><a href='Build_cln_include_dot_dependencies.html'>Build:include [no] dependencies</a><span class='grhilite'>►</span>
     <span class='grhilite'>◄</span><a href='Build_cln_include_dot_system.html'>Build:include [no] system</a><span class='grhilite'>►</span>
     <span class='grhilite'>◄</span><a href='Build_cln_suffixes.html'>Build:suffixes</a><span class='grhilite'>►</span>
     <span class='grhilite'>◄</span><a href='Build_cln_target.html'>Build:target</a><span class='grhilite'>►</span>
     <span class='grhilite'>◄</span><a href='m_dot_P_dot_E.html'>Project menu, Edit Project</a><span class='grhilite'>►</span>
     <span class='grhilite'>◄</span><a href='USI.html'>User Part of a PWB Makefile</a><span class='grhilite'>►</span>
                                    -♦-
</pre>
</body>

</html>
