<html>

<head>
<title>Preserving Registers with the Inline Assembler - C Language and Libraries Help</title>
<link rel="stylesheet" href="../style.css">
</head>

<body>
<div class="page-title"> Preserving Registers with the Inline Assembler - C Language and Libraries Help</div>
<pre>                                             <span class='grhilite'>◄</span><a href='x_asm.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/hv.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/vx.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
─────C/C++ Language─────────────────────────────────────────────────────────
 
     An __asm block inherits whatever register values happen to result
     from the normal flow of control. Within a function, you do not
     need to preserve the AX, BX, CX, DX, or ES registers. You
     should preserve DI, SI, DS, SS, SP, and BP.
 
     If your function changes the direction flag using the STD or CLD
     instructions, you should restore the flag to its original value.
 
     If the return value is a char, int, or near pointer, use the AX
     register. If the return value is a long or a far pointer, place
     the high word in DX and the low word in AX. To return a value
     longer than that, store the value in memory and return a pointer
     to it.
                                    -♦-
</pre>
</body>

</html>
