<html>

<head>
<title>Preserving Registers with the Inline Assembler - C Language and Libraries Help</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
C Language and Libraries Help (clang.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> Preserving Registers with the Inline Assembler</div>
<pre>                                             <span class='grhilite'>◄</span><a href='x_asm.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/hv.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/vx.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
─────C/C++ Language─────────────────────────────────────────────────────────
 
     An __asm block inherits whatever register values happen to result
     from the normal flow of control. Within a function, you do not
     need to preserve the AX, BX, CX, DX, or ES registers. You
     should preserve DI, SI, DS, SS, SP, and BP.
 
     If your function changes the direction flag using the STD or CLD
     instructions, you should restore the flag to its original value.
 
     If the return value is a char, int, or near pointer, use the AX
     register. If the return value is a long or a far pointer, place
     the high word in DX and the low word in AX. To return a value
     longer than that, store the value in memory and return a pointer
     to it.
                                    -♦-
</pre>
</body>

</html>
