<html>

<head>
<title>MouSynch (1.2) - subcalls.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="/helpicon.png">
<link rel="icon" href="/helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
subcalls.hlp (<a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> MouSynch (1.2)</div>
<pre><i><span class='grhilite'>◄</span><a href='../unknown.html#Mouse 1.2'>Overview</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='x_at_L8034.html'>Changes</a><span class='grhilite'>►</span>                                 <span class='grhilite'>◄</span><a href='mou.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='MouClose.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span></i>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_MOU
 
USHORT MouSynch(fWait)
USHORT fWait;    /* wait/no-wait flag */
 
The MouSynch function synchronizes access to the mouse. This function should
be used by a Mou subsystem to prevent more than one process from accessing
the mouse handle at any one time.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>fWait</i>      Specifies whether to wait if the mouse device driver is currently
           busy. If this parameter is FALSE, the function returns control
           immediately without waiting for the device to become free. If
           this parameter is TRUE, the function waits until the mouse handle
           is free.
 
<b>Return Value</b>
 
The return value is zero if the function is successful. Otherwise, it is an
error value.
 
<b>Comments</b>
 
The MouSynch function requests an exclusive system semaphore that clears
when the Mou subsystem returns to the mouse router. The MouSynch function
blocks all other threads within a screen group until the semaphore clears.
 
A registered mouse subsystem should not issue the MouSynch function when the
base video subsystem (BVS) issues MouOpen and MouClose functions. A
registered mouse subsystem must provide the required level of serialization
for the MouOpen and MouClose functions without calling MouSynch. This
special processing is required because MouOpen and MouClose are issued by
BVS on the VioSetMode path. The VioSetMode function can be issued, in turn,
by a VioSavRedrawWait thread. You can assume the synchronization semaphore
was already held by another thread blocked by a call to the MouReadEventQue
function.
 
Note that if a save/redraw wait thread issues the VioSetMode function, and
if BVS in turn issues the MouOpen or MouClose function and the mouse
subsystem in turn issues the MouSynch function, the screen switch will be
blocked and the system will "hang."
 
<b>See Also</b>
 
<b>DosCloseSem, DosDevIOCtl, MouClose, MouOpen, MouReadEventQue, MouRegister,</b>
<b>VioSavRedrawWait, VioSetMode</b>
 
                                      ♦
 
</pre>
</body>

</html>
