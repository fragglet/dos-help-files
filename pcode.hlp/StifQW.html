<html>

<head>
<title>StifQW&lt;b&gt; - P-Code Instructions</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
P-Code Instructions (pcode.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> StifQW&lt;b&gt;</div>
<pre>                                              <span class='grhilite'>◄</span><a href='../advisor.hlp/h_dot_contents.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/h_dot_contents.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/h_dot_index.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
──P-Code Instructions───────────────────────────────────────────────────────
 
  Syntax
 
  StifQW&lt;b&gt;
 
  /* Store indirect bit field into word using far pointer. */
 
  Description
 
  Pops the far pointer and a word from the top of the stack and merges the
  bit field contained within the word with the contents of the word stored
  at the location referenced by the far pointer.
 
  The one byte parameter &lt;b&gt; specifies the shift count (0-15) and the
  width (minus 1) of the bit field (0-15).
 
  Pseudocode equivalent:
 
  int far *lpw;
  unsigned int w, width, shift, mask;
  lpw = PopL();
  w = PopW();
  width = (&lt;b&gt; &gt;&gt; 4) + 1;
  shift = (&lt;b&gt; &amp; 0xf0);
  mask = ~((~(0xffff &lt;&lt; width)) &lt;&lt; shift);
  *lpw = (*lpw &amp; mask) | ((w &lt;&lt; shift) &amp; mask);
 
 
                                     -♦-
 
</pre>
</body>

</html>
