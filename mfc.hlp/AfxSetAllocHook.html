<html>

<head>
<title>AfxSetAllocHook - Microsoft Foundation Classes</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
Microsoft Foundation Classes (mfc.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> AfxSetAllocHook</div>
<pre>                                              <span class='grhilite'>◄</span><a href='diagFuncs.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/h_dot_contents.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/h_dot_index.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
──Microsoft Foundation Classes──────────────────────────────────────────────
 
  AFX_ALLOC_HOOK AfxSetAllocHook( AFX_ALLOC_HOOKpfnAllocHook );
 
  Parameter      Description
 
  &lt;pfnAllocHook&gt; The name of the function to call. The function must
                 return a BOOL value and accept size_t, BOOL, and long
                 arguments.
 
  Remarks
 
  Sets a hook that enables calling of the specified function each time
  memory is allocated.
 
  The hook function is described below.
 
  Hook Function
 
  The Microsoft Foundation class library debug memory allocator can call a
  user-defined hook function to allow the user to control whether to
  permit the allocation.
 
  Allocation hook functions are prototyped as:
 
  BOOL AllocHook( size_t &lt;nSize&gt;, BOOL &lt;bObject&gt;, LONG
                                                  &lt;lRequestNumber&gt; );
 
  Parameter          Description
 
  &lt;nSize&gt;            The size of the proposed memory allocation.
 
  &lt;bObject&gt;          TRUE if the allocation is for a CObject-derived
                     object.
 
  &lt;lRequestNumber&gt;   The memory allocation's sequence number.
 
  Return Value
 
  TRUE if you want to permit the allocation; otherwise FALSE.
 
 
                                     -♦-
 
</pre>
</body>

</html>
