<html>

<head>
<title>GRAPHIC.FOR - forlang.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
forlang.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> GRAPHIC.FOR</div>
<pre>                                             <span class='grhilite'>◄</span><a href='graphics.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='unknown#h.hv'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='unknown#h.hvx'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
────────────────────────────────────────────────────────────────────────────
 
CC  GRAPHIC.FOR - Displays every graphics mode.
 
      INCLUDE  'FGRAPH.FI'
      INCLUDE  'FGRAPH.FD'
 
      INTEGER*2 key
      EXTERNAL  printmenu
      EXTERNAL  showmode
 
      CALL printmenu( key )
      DO WHILE( key .NE. 0 )
         CALL showmode( key )
      END DO
      END
 
 
 
      SUBROUTINE printmenu( key )
 
      INCLUDE  'FGRAPH.FD'
 
      INTEGER*2  dummy, key
 
      key = -1
      DO WHILE( (key .LT. 0)  .OR.  (key .GT. 12) )
         dummy = setvideomode( $DEFAULTMODE )
         WRITE (*, 9000)
         READ (*,*) key
      END DO
 
 9000 FORMAT( ' Please ENTER a graphics mode.' /
     +        ' (To exit, ENTER 0.)' /// '  0 Exit'  /
     +        '  1 MRES4COLOR'   / '  2 MRESNOCOLOR' /
     +        '  3 HRESBW'       / '  4 HERCMONO'    /
     +        '  5 MRES16COLOR'  / '  6 HRES16COLOR' /
     +        '  7 ERESNOCOLOR'  / '  8 ERESCOLOR'   /
     +        '  9 VRES2COLOR'   / ' 10 VRES16COLOR' /
     +        ' 11 MRES256COLOR' / ' 12 ORESCOLOR'   / )
 
      END
 
 
      SUBROUTINE showmode( which )
 
      INCLUDE  'FGRAPH.FD'
 
      INTEGER*2 which, dummy, i, height, width
      INTEGER*2 modes(12) /
     +         $MRES4COLOR , $MRESNOCOLOR, $HRESBW      , $HERCMONO  ,
     +         $MRES16COLOR, $HRES16COLOR, $ERESNOCOLOR , $ERESCOLOR ,
     +         $VRES2COLOR , $VRES16COLOR, $MRES256COLOR, $ORESCOLOR /
 
      RECORD /videoconfig/ screen
 
      IF( setvideomode( modes(which) ) .NE. 0 ) THEN
         CALL getvideoconfig( screen )
         width  = screen.numxpixels / screen.numcolors
         height = screen.numypixels / 2
         DO i = 0, screen.numcolors - 1
            dummy = setcolor( INT4( i ) )
            dummy = rectangle( $GFILLINTERIOR, i * width, 0,
     +                       ( i + 1 ) * width, height )
         END DO
      ELSE
         WRITE (*, 9000)
      END IF
 
      READ (*,*)       ! Wait for ENTER key to be pressed
      dummy = setvideomode( $DEFAULTMODE )
      CALL printmenu( which )
 
 9000 FORMAT ( ' Video mode is not available.' /
     +         ' Please press ENTER.   ' \)
 
      END
</pre>
</body>

</html>
