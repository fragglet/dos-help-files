<html>

<head>
<title>Int 21h Functions 4Eh and 4Fh - Assembly Language Help</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="/helpicon.png">
<link rel="icon" href="/helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
Assembly Language Help (alang.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> Int 21h Functions 4Eh and 4Fh</div>
<pre> <span class='grhilite'>◄</span><a href='x_at_L82f7.html'>Summary</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='x_at_L8453.html'>Example</a><span class='grhilite'>►</span>                         <span class='grhilite'>◄</span><a href='x_at_L824d.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../pwb.hlp/hv.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../pwb.hlp/vx.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
────────────────────────────────────────────────────────────────────────────
 
     These functions assume that the DTA has been previously set by the
     program with Int 21h Function 1Ah to point to a buffer of adequate
     size.
 
     The * and ? wildcard characters are allowed in the filename. If
     wildcard characters are present, function 4Eh returns only the
     first matching filename. To get additional matching files, call
     function 4Fh repeatedly until it fails (by setting the carry
     flag and returning an error code in AX).
 
     If the initial attribute is 00h, only ordinary files are found.
     If the volume label attribute bit is set, only volume labels will
     be returned (if any are present). Any other attribute or
     combination of attributes (hidden, system, and directory) results
     in those files and all normal files being matched.
 
     The following 43-byte structure defines the DTA:
 
       DTA          STRUCT
         Rsv        BYTE    21 DUP(?)       ; Reserved by DOS
         Attr       BYTE    ?               ; File attribute
         Time       WORD    ?               ; Time file created or last
                                                updated
         Date       WORD    ?               ; Date file created or
                                                last updated
         Len        DWORD   ?               ; File size in bytes
         FName      BYTE    13 DUP(?)       ; Filename.ext with zero
                                                terminator
       DTA          ENDS
 
     The Date and Time members use the standard packed date/time formats.
                                    -♦-
</pre>
</body>

</html>
