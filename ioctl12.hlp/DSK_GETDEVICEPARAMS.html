<html>

<head>
<title>DSK_GETDEVICEPARAMS (1.2) - ioctl12.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://duckduckgo.com/" method="GET">
<input name="q" id="search-box" placeholder="Search">
<input type="hidden" name="sites" value="fragglet.github.io">
</form>
ioctl12.hlp (<a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> DSK_GETDEVICEPARAMS (1.2)</div>
<pre>                                                      <span class='grhilite'>◄</span><a href='IOCtls.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='DSK_GETLOGICALMAP.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_DOSDEVIOCTL
 
USHORT DosDevIOCtl(pbBPB, pbCommand, 0x0063, 0x0008, hDevice)
PBYTE pbBPB;        /* pointer to structure for BIOS parameter blocks */
PBYTE pbCommand;    /* pointer to variable with command               */
HFILE hDevice;      /* device handle                                  */
 
The DSK_GETDEVICEPARAMS function retrieves the device parameters for an MS
OS/2 block device. The device driver maintains two BIOS parameter blocks
(BPB) for each disk drive. One block corresponds to the medium currently in
the disk drive. The other is a recommended BPB, based on the type of medium
that corresponds to the physical device. For example, a high-density disk
drive has a BPB for a 96 tracks-per-inch (tpi) floppy disk; a low-density
disk drive has a BPB for a 48-tpi floppy disk.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>pbBPB      Poin</i>ts to the BIOSPARAMETERBLOCK structure that receives the
           BPB.
 
<i>pbCommand</i>  Points to the variable that specifies which BPB to retrieve. If
           the variable is 0x0000, the function retrieves the recommended
           BPB for the drive (the BPB for the physical device). If the
           variable is 0x0001, the function retrieves the BPB for the medium
           currently in the drive.
 
<i>hDevice</i>    Identifies the disk drive that receives the device-control
           function. The handle must have been created previously by using
           the DosOpen function.
 
<b>Return Value</b>
 
The return value is zero if the function is successful or an error value if
an error occurs.
 
<b>See Also</b>
 
<b>DosOpen, DSK_SETDEVICEPARAMS, BIOSP</b>ARAMETERBLOCK
 
                                      ♦
 
</pre>
</body>

</html>
