<html>

<head>
<title>GpiQueryColorIndex (1.2) - gpi12.hlp</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
gpi12.hlp (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="page-title"> GpiQueryColorIndex (1.2)</div>
<pre><i><span class='grhilite'>◄</span><a href='mix_mode_functions.html'>Function Group</a><span class='grhilite'>►</span>  <span class='grhilite'>◄</span><a href='unknown#Color and Mix Modes 1.2'>Overview</a><span class='grhilite'>►</span>                          <span class='grhilite'>◄</span><a href='index.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='GpiQueryCp.html'>Next</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Previous</a><span class='grhilite'>►</span></i>
<b></b><i>────────────────────────────────────────────────────────────────────────────</i>
 
#define INCL_GPILOGCOLORTABLE
 
LONG GpiQueryColorIndex(hps, flClrType, lRgbColor)
HPS hps;            /* presentation-space handle */
ULONG flClrType;    /* color type                */
LONG lRgbColor;     /* RGB color value           */
 
The GpiQueryColorIndex function returns a color index for the specified RGB
color value. The function maps the RGB color value to the closest match in
the physical palette for the device associated with the presentation space.
It then returns the index in the current logical color table that
corresponds to this physical-palette color.
 
If the current logical color table is realizable but has not been realized,
the LCOLOPT_REALIZED option maps the RGB color value as if the logical color
table has been realized. Since realizing a logical color table affects the
contents of the physical palette, the color index value returned with this
option may be different than the value returned without the option.
 
<b>Parameter  Description</b>
────────────────────────────────────────────────────────────────────────────
 
<i>hps</i>        Identifies the presentation space.
 
<i>flClrType</i>  Specifies whether the color index is based on realized colors. If
           it is LCOLOPT_REALIZED, the function returns a color index based
           on the colors in the physical palette after the current logical
           color table is realized. If the parameter is zero, the function
           returns a color index based on the colors in the current physical
           palette.
 
<i>lRgbColor</i>  Specifies the RGB color value.
 
<b>Return Value</b>
 
The return value is a color index that is the closest possible match of the
specified color if the function is successful, or QLCT_ERROR if an error
occurred.
 
<b>Errors</b>
 
Use the WinGetLastError function to retrieve the error value, which may be
one of the following:
 
     PMERR_INV_COLOR_OPTIONS
     PMERR_INV_HPS
     PMERR_INV_RGBCOLOR
     PMERR_PS_BUSY
 
<b>See Also</b>
 
<b>GpiQueryLogColorTable, GpiQueryRGBColor</b>
 
                                      ♦
 
</pre>
</body>

</html>
