<html>

<head>
<title>Accumulating Targets in Dependencies - NMAKE Help</title>
<link rel="stylesheet" href="../style.css">
</head>

<body>
<div class="page-title"> Accumulating Targets in Dependencies - NMAKE Help</div>
<pre>                                             <span class='grhilite'>◄</span><a href='x_at_L8021.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/hv.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='../advisor.hlp/vx.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
─────NMAKE──────────────────────────────────────────────────────────────────
 
     Dependency lines are cumulative when the same target appears more
     than once in a single description block.
     See: <span class='grhilite'>◄</span><a href='nmake_dot_dependent.html'>Dependencies</a><span class='grhilite'>►</span>
          <span class='grhilite'>◄</span><a href='x_at_L8021.html'>Targets</a><span class='grhilite'>►</span>
 
     For example, the makefile
 
          bounce.exe : jump.obj
          bounce.exe : up.obj
            echo Building bounce.exe...
 
     is evaluated by NMAKE as
 
          bounce.exe : jump.obj up.obj
            echo Building bounce.exe...
 
     This evaluation has several effects. Since NMAKE builds the
     dependency tree based on one target at a time, the lines can
     contain other targets, as in:
 
          bounce.exe leap.exe : jump.obj
          bounce.exe climb.exe : up.obj
            echo Building bounce.exe...
 
     NMAKE evaluates a dependency for each of the three targets as if
     each were specified in a separate description block. If bounce.exe
     or climb.exe is out-of-date, NMAKE runs the given command. If
     leap.exe is out-of-date, the given command does not apply, and
     NMAKE tries to use an inference rule.
 
     Caution
 
     If a target is specified in single-colon dependencies in different
     locations in the makefile, and if commands appear after only one
     of the lines, NMAKE interprets the dependencies as if they were
     adjacent or combined. This can cause an unwanted side effect:
     NMAKE does not invoke an inference rule for the dependency that
     has no commands. Instead, it accumulates the dependencies and
     executes the commands specified with the other dependency.
     See: <span class='grhilite'>◄</span><a href='nmake_dot_inference_rule.html'>Inference Rules</a><span class='grhilite'>►</span>
 
     For example, the following makefile is interpreted in the same way
     as the preceding examples:
 
          bounce.exe : jump.obj
            echo Building bounce.exe...
          .
          .
          .
          bounce.exe : up.obj
 
     This does not occur if the colons are doubled (::) after the
     duplicate targets. A double-colon dependency with no commands
     invokes an inference rule, even if another double-colon dependency
     containing the same target is followed by commands.
     See: <span class='grhilite'>◄</span><a href='x_at_L8022.html'>Targets in Multiple Dependencies</a><span class='grhilite'>►</span>
                                    -♦-
</pre>
</body>

</html>
