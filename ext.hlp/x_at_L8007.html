<html>

<head>
<title>Compiling and Linking Extensions - PWB Extensions Help</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="fragglet.github.io/dos-help-files/*">
</form>
PWB Extensions Help (ext.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> Compiling and Linking Extensions</div>
<pre>                                             <span class='grhilite'>◄</span><a href='x_at_L8006.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='hv.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='vx.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
─────PWB Extensions─────────────────────────────────────────────────────────
 
     All extensions must be compiled to meet the following conditions.
     Once you understand the requirements, you can vary the compiler
     command line.
 
     Condition                           CL Options
 
     No stack checking                   /Gs
     DS does not equal SS                /Aw or /Au
     Default data must be far            /Af
     Default code may be far or near     /As or /Al
 
     Extension functions must be far and have far data pointers. They
     must reload DS on entry. The prototypes in EXT.H enforce this for
     the callback functions. If your internal functions need to load DS,
     use the /Afsu custom memory-model option instead of /Afsw.
 
     It is possible to write small-model extensions despite the
     requirement that data be far. You must cast all data references
     between the PWB and the extension from near to far. Internal data
     references can be near.
 
     The link step varies depending on the contents of your extensions.
     Link with either the compact-model or the large-model library.
     Compiling with /ACw (equivalent to /Afsw) specifies the
     compact-model library; /ALw (/Aflw) specifies the large-model
     library.
                                    -♦-
</pre>
</body>

</html>
