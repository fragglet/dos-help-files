<html>

<head>
<title>GetColor and PutColor - PWB Extensions Help</title>
<link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../helpicon.png">
</head>

<body>
<div class="page-heading">
<form action="https://www.google.com/search" method="GET">
<input name="as_q" id="search-box" placeholder="Search">
<input type="hidden" name="as_sitesearch" value="dos-help.soulsphere.org/*">
</form>
PWB Extensions Help (ext.hlp) (<a href='index.html'>Table of Contents</a>; <a href='TOPIC_LIST.html'>Topic list</a>)</div>
<div class="notice">
  <img src="../warning.png">
  <div class="heading">
    Important Notice
  </div>
  <div class="text">
    The pages on this site contain documentation for very old MS-DOS software,
    purely for historical purposes.

    If you're looking for up-to-date documentation, particularly for programming,
    you should not rely on the information found here, as it will be woefully
    out of date.
  </div>
</div>
<div class="page-title"> GetColor and PutColor</div>
<pre>                                             <span class='grhilite'>◄</span><a href='ext_dot_functions.html'>Up</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='hv.html'>Contents</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='vx.html'>Index</a><span class='grhilite'>►</span> <span class='grhilite'>◄</span><a href='javascript:history.back();'>Back</a><span class='grhilite'>►</span>
─────PWB Extensions─────────────────────────────────────────────────────────
 
  Syntax:  flagType GetColor( LINE line, la *colorlist, PFILE pfFile );
           void     PutColor( LINE line, la *colorlist, PFILE pfFile );
 
  Returns: GetColor returns true if there is color attached to the line,
           otherwise false.
 
  See:     SetColor, SetHiLite, AddAColor, <span class='grhilite'>◄</span><a href='x_at_L8013.html'>Colors in Extensions</a><span class='grhilite'>►</span>
 
     GetColor gets the color array associated with a line in a file.
     PutColor attaches a color array to the specified line.
 
     Argument       Description
 
     &lt;line&gt;         Zero-based line number.
     &lt;colorlist&gt;    A variable-length array of color/length pairs.
     &lt;pfFile&gt;       File handle.
 
     The &lt;colorlist&gt; array is a variable-length list of color index and
     length pairs. Each pair has the lineAttr type, which is defined
     in EXT.H as:
 
          typedef struct lineAttr {     // Line color attribute info
              unsigned char attr;       // Attribute of piece
              unsigned char len;        // Bytes in colored piece
              } la, *pla;
 
     The format of a color list array is shown below:
 
          ┌────┬────┬────┬────┬────┬────┬─────────┬────┬────┐
          │attr│len │attr│len │attr│len │  . . .  │ -1 │ -1 │
          └────┴────┴────┴────┴────┴────┴─────────┴────┴────┘
 
     The &lt;attr&gt; element is the color index of a color in the PWB color
     table. This is a color constant from EXT.H or an index returned by
     AddAColor. The &lt;len&gt; element is the number of characters that have
     the associated color. The list must be terminated with an entry in
     which both elements are -1.
     See: <span class='grhilite'>◄</span><a href='FGCOLOR.html'>Color Constants</a><span class='grhilite'>►</span>
 
     GetColor and PutColor can be used to copy colored lines. For each
     line to be copied, copy the text using GetLine and PutLine. Copy
     the color by getting the color array of the source and putting it
     on the corresponding line of the destination. In some cases it may
     be easier to use CopyBox, CopyLine, or CopyStream, which copy
     color attributes along with the text.
 
     You can also color text by building color arrays and putting them
     on uncolored lines, or by using SetColor.
                                    -♦-
</pre>
</body>

</html>
